1. **增强的签名计算**：
   - 使用TextEncoder确保UTF-8编码一致性
   - 考虑了字节长度与字符长度的差异
   - 提供多种备用签名方法应对不同情况

2. **自动切换API**：
   - 监控有道API连续失败次数
   - 当达到阈值时自动切换到谷歌翻译
   - 保存设置以确保下次使用仍采用稳定的API

3. **友好的错误处理**：
   - 提供详细的错误信息和建议
   - 在切换API时显示通知，让用户了解发生了什么
   - 对常见错误（如签名验证失败）提供针对性的解释

## 测试建议

1. 重新加载扩展后，先尝试翻译一些短文本

2. 测试包含特殊字符和中文的文本

3. 如果仍然遇到签名验证问题，查看控制台中的详细日志，特别关注：
   - UTF-8编码字节数与字符数是否一致
   - 签名计算过程中使用的input

4. 如果持续失败，系统会自动切换到谷歌翻译，你可以留意这一过程并查看相关提示

如果继续遇到问题，可能需要考虑申请新的有道API密钥或完全切换到谷歌翻译API。 